<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>RL-Glue Matlab Codec</TITLE>
<META NAME="description" CONTENT="RL-Glue Matlab Codec">
<META NAME="keywords" CONTENT="MatlabCodec">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="MatlabCodec.css">

</HEAD>

<BODY >
<!--Navigation Panel-->
<IMG WIDTH="81" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next_inactive" SRC="nx_grp_g.png"> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png">   
<BR>
<BR>
<BR>
<!--End of Navigation Panel-->
<H1 ALIGN="CENTER">RL-Glue Matlab Codec 1.0 Manual </H1>
<DIV>

<P ALIGN="CENTER"><STRONG>Brian Tanner</STRONG></P>
</DIV>
<BR>

<H2><A NAME="SECTION00010000000000000000">
Contents</A>
</H2>
<!--Table of Contents-->

<UL>
<LI><A NAME="tex2html42"
  HREF="MatlabCodec.html#SECTION00020000000000000000">Introduction</A>
<UL>
<LI><A NAME="tex2html43"
  HREF="MatlabCodec.html#SECTION00021000000000000000">Software Requirements</A>
<LI><A NAME="tex2html44"
  HREF="MatlabCodec.html#SECTION00022000000000000000">Getting the Codec</A>
<LI><A NAME="tex2html45"
  HREF="MatlabCodec.html#SECTION00023000000000000000">Installing the Codec</A>
</UL>
<BR>
<LI><A NAME="tex2html46"
  HREF="MatlabCodec.html#SECTION00030000000000000000">Gotchas!</A>
<UL>
<LI><A NAME="tex2html47"
  HREF="MatlabCodec.html#SECTION00031000000000000000">Disconnect your Agent/Environment/Experiment</A>
<LI><A NAME="tex2html48"
  HREF="MatlabCodec.html#SECTION00032000000000000000">One Component At A Time</A>
</UL>
<BR>
<LI><A NAME="tex2html49"
  HREF="MatlabCodec.html#SECTION00040000000000000000">Agents</A>
<LI><A NAME="tex2html50"
  HREF="MatlabCodec.html#SECTION00050000000000000000">Experiments</A>
<LI><A NAME="tex2html51"
  HREF="MatlabCodec.html#SECTION00060000000000000000">Putting it all together</A>
<LI><A NAME="tex2html52"
  HREF="MatlabCodec.html#SECTION00070000000000000000">Who creates and frees memory?</A>
<LI><A NAME="tex2html53"
  HREF="MatlabCodec.html#SECTION00080000000000000000">Advanced Features</A>
<LI><A NAME="tex2html54"
  HREF="MatlabCodec.html#SECTION00090000000000000000">Codec Specification Reference</A>
<UL>
<LI><A NAME="tex2html55"
  HREF="MatlabCodec.html#SECTION00091000000000000000">Types</A>
<LI><A NAME="tex2html56"
  HREF="MatlabCodec.html#SECTION00092000000000000000">Functions</A>
</UL>
<BR>
<LI><A NAME="tex2html57"
  HREF="MatlabCodec.html#SECTION000100000000000000000">Changes and 2.x Backward Compatibility</A>
<UL>
<LI><A NAME="tex2html58"
  HREF="MatlabCodec.html#SECTION000101000000000000000">Agent/Environment Loading</A>
</UL>
<BR>
<LI><A NAME="tex2html59"
  HREF="MatlabCodec.html#SECTION000110000000000000000">Frequently Asked Questions</A>
<LI><A NAME="tex2html60"
  HREF="MatlabCodec.html#SECTION000120000000000000000">Credits and Acknowledgements</A>
<UL>
<LI><A NAME="tex2html61"
  HREF="MatlabCodec.html#SECTION000121000000000000000">Contributing</A>
</UL></UL>
<!--End of Table of Contents-->
<P>

<H1><A NAME="SECTION00020000000000000000">
Introduction</A>
</H1>

<P>
This document describes how to use the Matlab RL-Glue Codec, a software library that provides socket-compatibility with the RL-Glue Reinforcement Learning software library.  Matlab is a brand new codec, created specifically for the RL-Glue 3.0 release.  Special thanks (or pokes) should go to Dale and Doina who gave voices to the countless others who probably
have scorned us for not supporting Matlab earlier.  It turned out to not even be that difficult :)

<P>
For general information and motivation about the RL-Glue<A NAME="tex2html1"
  HREF="#foot145"><SUP>1</SUP></A> project, please refer to the documentation provided with that project.

<P>
This codec will allow you to create agents, environments, and experiment programs in Matlab.

<P>
This software project is licensed under the Apache-2.0<A NAME="tex2html3"
  HREF="#foot146"><SUP>2</SUP></A> license. We're not lawyers, but our intention is that this code 
should be used however it is useful.  We'd appreciate to hear what you're using it for, and to get credit if appropriate.

<P>
This project has a home here:
<BR><TT><A NAME="tex2html5"
  HREF="http://rl-glue-ext.googlecode.com">http://rl-glue-ext.googlecode.com</A></TT>
<P>

<H2><A NAME="SECTION00021000000000000000">
Software Requirements</A>
</H2>
To run agents, environments, and experiments created with this codec, you will need to have RL-Glue installed on your computer.

<P>
Compiling and running components with this codec requires Matlab.  You will also need to have the <A NAME="tex2html6"
  HREF="http://glue.rl-community.org/Home/Extensions/java-codec">RL-Glue Java Codec</A>
on your computer, this Matlab codec uses
the Java codec's network capabilities.

<P>
<B>Possible Contribution: </B>Someone with Matlab experience could help us find out what version of Matlab is required to use this codec, and could help us update the codec
to be as robust as possible to older versions.

<P>

<H2><A NAME="SECTION00022000000000000000">
Getting the Codec</A>
</H2>
The codec can be downloaded either as a tarball or can be checked out of the subversion repository where it is hosted.

<P>
The tarball distribution can be found here:
<BR>
<TT><A NAME="tex2html7"
  HREF="http://code.google.com/p/rl-glue-ext/downloads/list">http://code.google.com/p/rl-glue-ext/downloads/list</A></TT>
<P>
To check the code out of subversion:
<BR>
<FONT SIZE="-1"><TT>svn checkout http://rl-glue-ext.googlecode.com/svn/trunk/projects/codecs/Matlab Matlab-Codec</TT> </FONT>
<P>

<H2><A NAME="SECTION00023000000000000000">
Installing the Codec</A>
</H2>
There is no real ``installation'' for the codec per-se.  In each Matlab session, you'll have to add the codec source files to your Matlab path

<P>
To add the Matlab codec source files to your path, and to add the Java codec to your Matlab Java path, I do the following:
Matlab will want to know where the codec source files are, so we'll frequently use code like:
<PRE>
	&gt;&gt; clear java;
	&gt;&gt; javaaddpath('/path/to/my/java/codec/products/JavaRLGlueCodec.jar')
	&gt;&gt; addpath(sprintf('%s%s',pwd(),'/to/matlab/codec/src/glue'));
	&gt;&gt; addpath(sprintf('%s%s',pwd(),'/to/matlab/codec/src/agent'));
	&gt;&gt; addpath(sprintf('%s%s',pwd(),'/to/matlab/codec/src/environment'));
</PRE>

<P>
You can make your life easier by writing a script that does this.  There is probably also a way to put these things in your default paths.

<P>
<B>POSSIBLE CONTRIBUTION</B>: IF someone wants to investigate the options for having a script ``install'' the Matlab modules into a system classpath, or anything else
to make this more convenient, we would like to have your help!

<P>

<H1><A NAME="SECTION00030000000000000000">
Gotchas!</A>
</H1>

<H2><A NAME="SECTION00031000000000000000">
Disconnect your Agent/Environment/Experiment</A>
</H2>
If your agent/environment/experiment crashes or terminates prematurely, and the <TT>rl_glue</TT> executable socket server is still running on your machine, you should
manually disconnect your Matlab component so that the <TT>Java</TT> socket gets cleaned up.  Depending on what you were running, the code would be:
<PRE>
	&gt;&gt; disconnectAgent()                 %For agents
	&gt;&gt; disconnectEnvironment()           %For environments
	&gt;&gt; disconnectGlue()                  %For experiments
</PRE>

<P>
If you don't disconnect manually in these cases, Matlab can get hung up and you'll have to restart it.

<P>

<H2><A NAME="SECTION00032000000000000000">
One Component At A Time</A>
</H2>
Matlab is inherently single threaded, so without making the codec overly complicated, we had to limit each Matlab instance to running a single component at at time.
This means that you can only run ONE of an agent OR environment OR experiment in Matlab at a time.  If you know how to open multiple Matlab instances (not sure if this is possible), you can run one
component per instance.  We think that the usual case will probably be to run your agent in Matlab, but run the experiment and environment in another language, like Java, C, or Python.

<P>
We may lift this restriction in the future, or write a local glue engine so that all three can run together inside Matlab.

<P>

<H1><A NAME="SECTION00040000000000000000"></A>
<A NAME="sec:agent"></A>
<BR>
Agents
</H1>
We have provided a skeleton agent with the codec that is a good starting point for agents that you may write in the future.
It implements all the required functions and provides a good example of how create and run a simple agent.

<P>
The pertinent file is:
<PRE>
	examples/skeleton_agent/skeleton_agent_construct.m
	examples/skeleton_agent/skeleton_agent_init.m
	examples/skeleton_agent/skeleton_agent_start.m
	examples/skeleton_agent/skeleton_agent_step.m
	examples/skeleton_agent/skeleton_agent_message.m
	examples/skeleton_agent/skeleton_agent_end.m
	examples/skeleton_agent/skeleton_agent_cleanup.m
</PRE>

<P>
This agent does not learn anything and randomly chooses integer action 0 or 1.  

<P>
You can compile and run the agent like:
<PRE>
	&gt;$ cd examples/skeleton_agent/
	&gt;$ theAgent=skeleton_agent_construct()
	&gt;$ runAgent(theAgent)
</PRE>

<P>
<A NAME="tex2html8"
  HREF="http://code.google.com/p/rl-glue-ext/source/browse/trunk/projects/codecs/Matlab/examples/skeleton_agent/skeleton_agent_construct.m"><TT>skeleton_agent_construct()</TT></A>
creates a struct with function pointers to the other <TT>skeleton_agent</TT> methods.  <A NAME="tex2html9"
  HREF="http://code.google.com/p/rl-glue-ext/source/browse/trunk/projects/codecs/Matlab/src/agent/runAgent.m"><TT>runAgent(theAgent)</TT></A>
then
connects to RL-Glue and runs one step at a time until RL-Glue disconnects.

<P>
Alternatively, for a more interactive experience, you can run the agent manually one step at a time:
<PRE>
	&gt;$ cd examples/skeleton_agent/
	&gt;$ theAgent=skeleton_agent_construct()
	&gt;$ connectAgent(theAgent)
	&gt;$ runAgentLoop(theAgent)     %run one step
	&gt;$ runAgentLoop(theAgent)     %run one step
	&gt;$ runAgentLoop(theAgent)     %run one step
	   ...
</PRE>

<P>
Using this method, you can stop and examine what your agent is learning, and potentially modify, visualize, or analyze it however you like.

<P>
You will see something like:
<PRE>
	&gt;&gt; runAgent(theAgent)
	RL-Glue Matlab Agent Codec Version: 1.0 ($Revision: 268 $)
	    Connecting to rl_glue at host: localhost on port 4096
{verbatim}

This means that the skeleton\_agent is running, and trying to connect to the \texttt{rl\_glue} executable server on the local machine through port $4096$! 

You can kill the process by pressing \texttt{CTRL-C} on your keyboard.  Don't forget to \texttt{disconnectAgent()}.

The Skeleton agent is very simple and well documented, so we won't spend any more time talking about it in these instructions.
Please open it up and take a look.

\textbf{POSSIBLE CONTRIBUTION}: If you take a look at the agent and you think it's not easy to understand, think it could be better documented, 
or just that it should do some fancier things, let us know and we'll be happy to do it!


\section{Environments}
We have provided a skeleton environment with the codec that is a good starting point for environments that you may write in the future.
It implements all the required functions and provides a good example of how to compile a simple environment.  This section will follow the same 
pattern as the agent version (Section \ref{sec:agent}).  This section will be less detailed because many ideas are similar or identical.


The pertinent file is:
\begin{verbatim}
	examples/skeleton_environment/skeleton_environment.py
</PRE>

<P>
This environment is episodic, with 21 states, labeled <!-- MATH
 $\{0, 1,\ldots,19,20\}$
 -->
<IMG
 WIDTH="128" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$\{0, 1,\ldots,19,20\}$">. States {0, 20} are terminal and return rewards of {-1, +1} respectively.  The other states return reward of 0.
There are two actions, {0, 1}.  Action 0 decrements the state number, and action 1 increments it. The environment starts in state 10.

<P>
You can compile and run the environment like:
<PRE>
	&gt;$ cd examples/skeleton
	&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_environment.py
</PRE>

<P>
You will see something like:
<PRE>
     RL-Glue Matlab Environment Codec Version: 2.0 (Build 250)
          Connecting to 127.0.0.1 on port 4096...
</PRE>

<P>
This means that the skeleton_environment is running, and trying to connect to the <TT>rl_glue</TT> executable server on the local machine through port 4096! 

<P>
You can kill the process by pressing <TT>CTRL-C</TT> on your keyboard.

<P>
The Skeleton environment is very simple and well documented, so we won't spend any more time talking about it in these instructions.
Please open it up and take a look.

<P>
<B>POSSIBLE CONTRIBUTION</B>: If you take a look at the environment and you think it's not easy to understand, think it could be better documented, 
or just that it should do some fancier things, let us know and we'll be happy to do it!

<P>

<H1><A NAME="SECTION00050000000000000000">
Experiments</A>
</H1>
We have provided a skeleton experiment with the codec that is a good starting point for experiment that you may write in the future.
It implements all the required functions and provides a good example of how to compile a simple experiment.  This section will follow the same 
pattern as the agent version (Section <A HREF="#sec:agent">3</A>).  This section will be less detailed because many ideas are similar or identical.

<P>
The pertinent files are:
<PRE>
	examples/skeleton/skeleton_experiment.py
</PRE>

<P>
This experiment runs <TT>RL_Episode</TT> a few times, sends some messages to the agent and environment, and then steps through one episode using <TT>RL_step</TT>.

<P>
<PRE>
	&gt;$ cd examples/skeleton
	&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_experiment.py
</PRE>

<P>
You will see something like:
<PRE>
     Experiment starting up!
     RL-Glue Matlab Experiment Codec Version: 2.0 (Build 250)
          Connecting to 127.0.0.1 on port 4096...
</PRE>

<P>
This means that the skeleton_experiment is running, and trying to connect to the <TT>rl_glue</TT> executable server on the local machine through port 4096!  

<P>
You can kill the process by pressing <TT>CTRL-C</TT> on your keyboard.

<P>
The Skeleton experiment is very simple and well documented, so we won't spend any more time talking about it in these instructions.
Please open it up and take a look.

<P>
<B>POSSIBLE CONTRIBUTION</B>: If you take a look at the experiment and you think it's not easy to understand, think it could be better documented, 
or just that it should do some fancier things, let us know and we'll be happy to do it!

<P>

<H1><A NAME="SECTION00060000000000000000">
Putting it all together</A>
</H1>
At this point, we've compiled and run each of the three components, now it's time to run them with the <TT>rl_glue</TT> executable server.  The following will work from the examples 
directory if you have them all built, and RL-Glue installed in the default location:
<PRE>
	&gt;$ cd examples/skeleton
	&gt;$ rl_glue &amp;
	&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_agent.py &amp;
	&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_environment.py &amp;
	&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_experiment.py &amp;
</PRE>

<P>
If RL-Glue is not installed in the default location, you'll have to start the <TT>rl_glue</TT> executable server using it's full path (unless it's in your <TT>PATH</TT> environment variable):
<PRE>
	&gt;$ /path/to/rl-glue/bin/rl_glue &amp;
</PRE>

<P>
You should see output like the following if it worked:
<PRE>
	&gt;$ rl_glue &amp;
RL-Glue Version 3.0-beta-1, Build 848:856
RL-Glue is listening for connections on port=4096

&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_agent.py &amp;
RL-Glue Matlab Agent Codec Version: 2.0 (Build 250)
     Connecting to 127.0.0.1 on port 4096...
     Agent Codec Connected
     RL-Glue :: Agent connected.

&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_environment.py &amp;
RL-Glue Matlab Environment Codec Version: 2.0 (Build 250)
     Connecting to 127.0.0.1 on port 4096...
     Environment Codec Connected
     RL-Glue :: Environment connected.

&gt;$ PYTHONPATH=~/MatlabCodec/src python skeleton_experiment.py &amp;
Experiment starting up!
RL-Glue Matlab Experiment Codec Version: 2.0 (Build 250)
     Connecting to 127.0.0.1 on port 4096...
     RL-Glue :: Experiment connected.

RL_init called, the environment sent task spec: 2:e:1_[i]_[0,20]:1_[i]_[0,1]:[-1,1]


----------Sending some sample messages----------
Agent responded to "what is your name?" 
with: my name is skeleton_agent, Matlab edition!
Agent responded to "If at first you don't succeed; call it version 1.0" 
with: I don't know how to respond to your message

Environment responded to "what is your name?" 
with: my name is skeleton_environment, Matlab edition!
Environment responded to "If at first you don't succeed; call it version 1.0" 
with: I don't know how to respond to your message


----------Running a few episodes----------
Episode 0	 42 steps 	1.0 total reward	 1 natural end
Episode 1	 28 steps 	1.0 total reward	 1 natural end

Episode 2	 96 steps 	-1.0 total reward	 1 natural end
Episode 3	 52 steps 	1.0 total reward	 1 natural end
Episode 4	 100 steps 	0.0 total reward	 0 natural end
Episode 5	 1 steps 	0.0 total reward	 0 natural end
Episode 6	 82 steps 	1.0 total reward	 1 natural end


----------Stepping through an episode----------
First observation and action were: 10 and: 1


----------Summary----------
It ran for 66 steps, total reward was: -1.0
</PRE>

<P>

<H1><A NAME="SECTION00070000000000000000">
Who creates and frees memory?</A>
</H1>
The RL-Glue technical manual has a section called <I>Who creates and frees memory?</I>.  The general approach recommended there is to make a copy of data
you want to keep beyond the method it was given to you.  The same rules of thumb from that manual should be followed when using the Matlab codec.

<P>

<H1><A NAME="SECTION00080000000000000000">
Advanced Features</A>
</H1>
This section will explain how to set custom target IP addresses (to connect over the network) and custom ports (to run multiple experiments on one machine or to avoid firewall issues).

<P>
Someone should write this later (Opportunity to contribute!).

<P>

<H1><A NAME="SECTION00090000000000000000">
Codec Specification Reference</A>
</H1>
This section will explain how the RL-Glue types and functions are defined for this codec.  This isn't meant to be the most exciting section of this document, but it will
be handy.

<P>
Instead of re-creating information that is readily available in the MatlabDocs, we will give pointers were appropriate.

<P>

<H2><A NAME="SECTION00091000000000000000">
Types</A>
</H2>

<P>

<H3><A NAME="SECTION00091100000000000000">
Simple Types</A>
</H3>
Unlike the C/C++ codec, we will not be using <TT>typedef</TT> statements to create special labels for the types. Since Matlab is loosely typed, these things aren't so hard and 
fast:

<UL>
<LI><I>reward</I> is <TT>double</TT>
</LI>
<LI><I>terminal</I> is <TT>int</TT> (1 for terminal, 0 for non-terminal) We hope to replace these with boolean eventually.
</LI>
<LI><I>messages</I> are <TT>strings</TT>
</LI>
<LI><I>task specifications</I> are <TT>strings</TT>
</LI>
</UL>

<P>

<H3><A NAME="SECTION00091200000000000000"></A>
<A NAME="sec:structure-types"></A>
<BR>
Structure Types
</H3>
All of the major structure types (observations, actions, random seed keys, and state keys) extend the <TT>RL_Abstract_Type </TT> class, which has there lists: for integers, doubles, and chars.

<P>
The class is defined as:
<PRE>
    class RL_Abstract_Type:
        def __init__(self,numInts=None,numDoubles=None,numChars=None):
            self.intArray = []
            self.doubleArray = []
            self.charArray = []
            if numInts != None:
                 self.intArray = [0]*numInts
            if numDoubles != None:
                 self.doubleArray = [0.0]*numDoubles
            if numChars != None:
                 self.charArray = ['']*numChars

        def sameAs(self,otherAbstractType):
            return self.intArray==otherAbstractType.intArray and
            self.doubleArray==otherAbstractType.doubleArray and 
            self.charArray==otherAbstractType.charArray
</PRE>

<P>
The other types that inherit from <TT>RL_Abstract_Type </TT> but add no specialization are:
<PRE>
class Action(RL_Abstract_Type)
class Observation(RL_Abstract_Type)
class Random_seed_key(RL_Abstract_Type)
class State_key(RL_Abstract_Type)
</PRE>

<P>
The structure of the composite types are listed below.  Note that this code is not accurate in terms of the available constructors, 
it is just meant to illustrate the member names.
<PRE>
class Observation_action:
    def __init__(self,theObservation,theAction):
        self.o = theObservation
        self.a = theAction

class Reward_observation:
    def __init__(self,reward, theObservation, terminal):
        self.r = reward
        self.o = theObservation
        self.terminal = terminal

class Reward_observation_action_terminal:
    def __init__(self,reward, theObservation, theAction, terminal):
        self.r = reward
        self.o = theObservation
        self.a = theAction
        self.terminal = terminal
</PRE>

<P>
The full definition are available in <A NAME="tex2html10"
  HREF="http://code.google.com/p/rl-glue-ext/source/browse/trunk/projects/codecs/Matlab/src/rlglue/types.py"><TT>types.py</TT></A>.

<H2><A NAME="SECTION00092000000000000000">
Functions</A>
</H2>

<H3><A NAME="SECTION00092100000000000000">
Agent Functions</A>
</H3>
All agents <B>should implement</B> <A NAME="tex2html11"
  HREF="http://code.google.com/p/rl-glue-ext/source/browse/trunk/projects/codecs/Matlab/src/rlglue/agent/Agent.py"><TT>rlglue.agent.Agent</TT></A>.

<P>

<H3><A NAME="SECTION00092200000000000000">
Environment Functions</A>
</H3>
All environments <B>should implement</B> <A NAME="tex2html12"
  HREF="http://code.google.com/p/rl-glue-ext/source/browse/trunk/projects/codecs/Matlab/src/rlglue/environment/Environment.py"><TT>rlglue.environment.Environment</TT></A>.

<P>

<H3><A NAME="SECTION00092300000000000000">
Experiments Functions</A>
</H3>
All experiments <B>can call</B> the methods in <A NAME="tex2html13"
  HREF="http://code.google.com/p/rl-glue-ext/source/browse/trunk/projects/codecs/Matlab/src/rlglue/RLGlue.py"><TT>rlglue.RLGlue</TT></A>.
In this case we'll include their prototypes, because the source file is full of implementation details.

<P>
<PRE>
	# () -&gt; string
	def RL_init():

	# () -&gt; Observation_action
	def RL_start():

	# () -&gt; Reward_observation_action_terminal
	def RL_step():

	# () -&gt; void
	def RL_cleanup():

	# (string) -&gt; string
	def RL_agent_message(message):

	# (string) -&gt; string
	def RL_env_message(message):

	# () -&gt; double
	def RL_return():

	# () -&gt; int
	def RL_num_steps():

	# () -&gt; int
	def RL_num_episodes():

	# (int) -&gt; int
	def RL_episode(num_steps):

	# (State_key) -&gt; void
	def RL_set_state(sk):

	# (Random_seed_key) -&gt; void
	def RL_set_random_seed(rsk):

	# () -&gt; State_key
	def RL_get_state():

	# () -&gt; Random_seed_key
	def RL_get_random_seed():
</PRE>

<P>

<H1><A NAME="SECTION000100000000000000000">
Changes and 2.x Backward Compatibility</A>
</H1>
There were many API/Interface changes from RL-Glue 2.x to RL-Glue 3.x.  For those that are at the level of the API and project organization, please refer to the the RL-Glue 
project documentation.

<P>

<H2><A NAME="SECTION000101000000000000000">
Agent/Environment Loading</A>
</H2>
Historically, there was a different approach for loading agents and environments.

<P>
The old strategy was:
<PRE>
PYTHONPATH=~/MatlabCodec/src:/agent/src/path python -c \
    \"import rlglue.agent.AgentLoader\" agentName
</PRE>

<P>
That didn't seem as easy as it should be, so we changed things for this release, much like we did in the Java codec. Now, Matlab agents and environments can become 
self loading by adding a bit of code at the bottom of their source files, like:
<PRE>
#skeleton_agent.py
#top of file
from rlglue.agent import AgentLoader as AgentLoader

...

#bottom of file
if __name__=="__main__":
     AgentLoader.loadAgent(skeleton_agent())
</PRE>

<P>
Now, (as you recall) we can load the agent like:
<PRE>
PYTHONPATH=~/MatlabCodec/src python agentfile.py
</PRE>

<P>
See <TT>skeleton_environment</TT> for instructions about how to do a similar thing for environments.

<P>
We feel that this is a useful step forward, and will be encouraging this approach.

<P>
However, if you love the old way, you can still do it like:

<P>
<PRE>
PYTHONPATH=~/MatlabCodec/src:/agent/src/path python -c \
    \"import rlglue.agent.AgentLoaderScript\" agentName
</PRE>

<P>

<H1><A NAME="SECTION000110000000000000000">
Frequently Asked Questions</A>
</H1>
We're waiting to hear your questions!

<P>

<H1><A NAME="SECTION000120000000000000000">
Credits and Acknowledgements</A>
</H1>
Mark Lee originally wrote the Matlab codec.  Thanks Mark.

<P>
Brian Tanner has since grabbed the torch and has continued to develop the codec.

<P>

<H2><A NAME="SECTION000121000000000000000">
Contributing</A>
</H2>
If you would like to become a member of this project and contribute updates/changes to the code, please send a message to rl-glue@googlegroups.com.

<P>

<H1><A NAME="SECTION000130000000000000000">
Document Information</A>
</H1>
<PRE>
Revision Number: $Rev: 265 $
Last Updated By: $Author: brian@tannerpages.com $
Last Updated   : $Date: 2008-09-30 23:01:44 -0600 (Tue, 30 Sep 2008) $
$URL: https://rl-glue-ext.googlecode.com/svn/trunk/projects/codecs/Matlab/docs/MatlabCodec.tex $
</PRE>

<P>

<H1><A NAME="SECTION000140000000000000000">
About this document ...</A>
</H1>
 <STRONG>RL-Glue Matlab Codec 1.0 Manual </STRONG><P>
This document was generated using the
<A HREF="http://www.latex2html.org/"><STRONG>LaTeX</STRONG>2<tt>HTML</tt></A> translator Version 2002-2-1 (1.71)
<P>
Copyright &#169; 1993, 1994, 1995, 1996,
<A HREF="http://cbl.leeds.ac.uk/nikos/personal.html">Nikos Drakos</A>, 
Computer Based Learning Unit, University of Leeds.
<BR>
Copyright &#169; 1997, 1998, 1999,
<A HREF="http://www.maths.mq.edu.au/~ross/">Ross Moore</A>, 
Mathematics Department, Macquarie University, Sydney.
<P>
The command line arguments were: <BR>
 <STRONG>latex2html</STRONG> <TT>MatlabCodec.tex -split 0 -dir html -mkdir -title 'RL-Glue Matlab Codec' -local_icons -math</TT>
<P>
The translation was initiated by Brian Tanner on 2008-10-01
<BR><HR><H4>Footnotes</H4>
<DL>
<DT><A NAME="foot145">... RL-Glue</A><A
 HREF="MatlabCodec.html#tex2html1"><SUP>1</SUP></A></DT>
<DD><TT><A NAME="tex2html2"
  HREF="http://glue.rl-community.org/">http://glue.rl-community.org/</A></TT>

</DD>
<DT><A NAME="foot146">... Apache-2.0</A><A
 HREF="MatlabCodec.html#tex2html3"><SUP>2</SUP></A></DT>
<DD><TT><A NAME="tex2html4"
  HREF="http://www.apache.org/licenses/LICENSE-2.0.html">http://www.apache.org/licenses/LICENSE-2.0.html</A></TT>

</DD>
</DL><HR>
<!--Navigation Panel-->
<IMG WIDTH="81" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next_inactive" SRC="nx_grp_g.png"> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev_g.png">   
<BR>
<!--End of Navigation Panel-->
<ADDRESS>
Brian Tanner
2008-10-01
</ADDRESS>
</BODY>
</HTML>
